//create the connection
const connection = new signalR.HubConnectionBuilder().withUrl("/signalServer").build();


//receive the message
debugger
connection.on("RecieveMessage", function (user, message) {
    var rec_msg = user + ": " + message;
    var li = document.createElement("li");
    li.textContent = rec_msg;
    document.getElementById("messageList").appendChild(li);
});
connection.start().catch(function (err) {
    return console.error(err.toString());
});

//send the message
document.getElementById("sendMessage").addEventListener("click", function (event) {
    var user = document.getElementById("userName").value;
    var message = document.getElementById("userMessage").value;
    connection.invoke("SendMessage", user, message).catch(function (err) {
        return console.error(err.toString());
    });
    event.preventDefault();
});




